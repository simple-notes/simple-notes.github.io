(this.webpackJsonplibrary=this.webpackJsonplibrary||[]).push([[0],{189:function(e,t,a){e.exports=a(356)},21:function(e){e.exports=JSON.parse('{"a":3,"c":{"url":"https://accounts.google.com/o/oauth2/v2/auth","params":{"client_id":"870430470598-s2kccom1fufpo92g1eupm66dmg92tp9o.apps.googleusercontent.com","redirect_uri":"https://simple-notes.github.io","scope":"https://www.googleapis.com/auth/drive.appdata","response_type":"token"}},"b":"https://www.googleapis.com/"}')},347:function(e,t){},356:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),o=a(14),s=a.n(o),i=a(4),l=a.n(i),u=a(13),d=a(21),p=function(){return new Promise((function(e){var t=d.c.url,a=d.c.params;if(a){var n=Object.keys(a).map((function(e){return"".concat(e,"=").concat(a[e])})).join("&");t+="?".concat(n)}var r=window.open(t,"signin","modal"),c=setInterval((function(){r.closed&&(e(),clearInterval(c))}),500)}))},f=function(e){if(e){var t=e.substring(1).split("&").reduce((function(e,t){return e[(t=t.split("="))[0]]=t[1],e}),{}),a=t.error,n=t.access_token;a?window.close():n&&m(n)}window.close()},m=function(e){localStorage.setItem("token",e)},g=function(){return localStorage.getItem("token")},b=a(15),h=a(53),x=a(160),v=a.n(x),w=function e(t,a){var n,r,c,o,s,i,u=arguments;return l.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(3!==(n=u.length>2&&void 0!==u[2]?u[2]:0)){f.next=3;break}throw new Error("Request rejected three times");case 3:if(n+=1,!(r=g())){f.next=31;break}return f.prev=6,c=d.b+t,o={Authorization:"Bearer ".concat(r)},f.next=11,l.a.awrap(v()(Object(b.a)({url:c,headers:o},a)));case 11:return s=f.sent,i=s.data,f.abrupt("return",i);case 16:if(f.prev=16,f.t0=f.catch(6),!f.t0.response||401!==f.t0.response.status){f.next=26;break}return f.next=21,l.a.awrap(p());case 21:return f.next=23,l.a.awrap(e(t,a,n));case 23:return f.abrupt("return",f.sent);case 26:throw new Error(f.t0.message);case 27:case 28:f.next=36;break;case 31:return f.next=33,l.a.awrap(p());case 33:return f.next=35,l.a.awrap(e(t,a,n));case 35:return f.abrupt("return",f.sent);case 36:case 37:case"end":return f.stop()}}),null,null,[[6,16]])},E={},y=function e(t){var a,n,r;return l.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,l.a.awrap(w("drive/v3/files",{method:"get",params:{spaces:"appDataFolder",pageToken:t,fields:"nextPageToken, files(id, name)"}}));case 3:return a=c.sent,n=a.files,r=a.nextPageToken,c.abrupt("return",r?[].concat(Object(h.a)(n),Object(h.a)(e(r))):n);case 9:throw c.prev=9,c.t0=c.catch(0),new Error(c.t0.message);case 12:case 13:case"end":return c.stop()}}),null,null,[[0,9]])},O=function(e,t){return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.awrap(I(e));case 2:return a.next=4,l.a.awrap(C(E[e],t));case 4:case"end":return a.stop()}}))},j=function(e,t){return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.awrap(C(E[e],t));case 2:case"end":return a.stop()}}))},k=function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(N(E[e]));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},I=function(e){var t,a;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l.a.awrap(w("drive/v3/files",{method:"post",data:{mimeType:"application/json",name:e,parents:["appDataFolder"]}}));case 3:t=n.sent,a=t.id,E[e]=a,n.next=11;break;case 8:throw n.prev=8,n.t0=n.catch(0),new Error(n.t0.message);case 11:case 12:case"end":return n.stop()}}),null,null,[[0,8]])},C=function(e,t){return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,l.a.awrap(w("upload/drive/v3/files/".concat(e),{method:"patch",data:"string"===typeof t?t:JSON.stringify(t)}));case 3:a.next=8;break;case 5:throw a.prev=5,a.t0=a.catch(0),new Error(a.t0.message);case 8:case 9:case"end":return a.stop()}}),null,null,[[0,5]])},N=function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.awrap(w("drive/v3/files/".concat(e),{method:"get",params:{alt:"media"}}));case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),new Error(t.t0.message);case 9:case 10:case"end":return t.stop()}}),null,null,[[0,6]])},S=function(e,t){if(t.length<e.length){var a=[t,e];e=a[0],t=a[1]}return e.filter((function(e){return t.includes(e)}))},L=function(e,t){return e.filter((function(e){return!t.includes(e)}))},B=function(e){var t=new RegExp("[a-z\u0430-\u044f\u0451]{".concat(d.a,",}"),"gu");return e.toLowerCase().match(t)||[]},F=function(e,t){t.forEach((function(t){for(var a=0;a<=t.length-d.a;a++)for(var r=t.length;r>=a+d.a;r--){var c=t.slice(a,r);n.indexing[c]?n.indexing[c].includes(e)||n.indexing[c].push(e):n.indexing[c]=[e]}}))},R=function(e,t){t.forEach((function(t){for(var a=0;a<=t.length-d.a;a++)for(var r=t.length;r>=a+d.a;r--){var c=t.slice(a,r);if(n.indexing[c]&&n.indexing[c].includes(e))if(1===n.indexing[c].length)delete n.indexing[c];else{var o=n.indexing[c];o.splice(o.indexOf(e),1),n.indexing[c]=o}}}))},T=function(e,t){t.forEach((function(t){return n.labels[t].notesIds.push(e)}))},z=function(e,t){t.forEach((function(t){var a=n.labels[t].notesIds;a.splice(a.indexOf(e),1),n.labels[t].notesIds=a}))},D=function(e){var t;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=n.options.labelsCrtId+1,n.options.labelsCrtId=t,n.labels[t]={id:t,name:e,notesIds:[]},a.next=5,l.a.awrap(j("data",n));case 5:case"end":return a.stop()}}))},P=function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return n.labels[e.id]=e,t.next=3,l.a.awrap(j("data",n));case 3:case"end":return t.stop()}}))},M=function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return n.labels[e].notesIds.forEach((function(t){var a=n.notes[t].labelsIds;a.splice(a.indexOf(e),1),n.notes[t].labelsIds=a})),delete n.labels[e],t.next=4,l.a.awrap(j("data",n));case 4:case"end":return t.stop()}}))},W=function(e){return e?e.map((function(e){return n.labels[e]})):Object.values(n.labels).filter((function(e){return e.id}))},A=function(e){var t=e.string,a=e.labelsIds;return t.length<d.a&&!a.length?Object.values(n.notes).filter((function(e){return e.id})):H(t,a).map((function(e){return n.notes[e]}))},H=function(e,t){if(!e)return J(t);var a=q(e);return 0!==a.length&&t.length?S(a,J(t)):a},q=function(e){var t=B(e);return 0===t.length?[]:1===t.length?n.indexing[t[0]]||[]:t.map((function(e){return n.indexing[e]||[]})).reduce((function(e,t){return S(e,t)}))},J=function(e){return 1===e.length?n.labels[e[0]].notesIds:e.map((function(e){return n.labels[e].notesIds})).reduce((function(e,t){return S(e,t)}))},Q=a(161),_=a(394),G=Object(Q.a)((function(e){return{progress:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}}})),K=function(){var e=G();return c.a.createElement("div",{className:e.progress},c.a.createElement(_.a,null))},U=a(11),V=a(3),X=a(177),Y=(a(254),a(397)),Z=a(413),$=a(395),ee=a(396),te=a(178),ae=a(166),ne=a.n(ae),re=a(167),ce=a.n(re),oe=a(165),se=a.n(oe),ie=Object(Q.a)((function(e){return{header:{padding:e.spacing(0,2),display:"flex",flexFlow:"row nowrap",alignItems:"center",justifyContent:"space-between"},title:{color:e.palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},list:{listStyle:"none",padding:0,margin:0,"& > li:not(:last-child)":{marginBottom:6}},listItem:{width:"100%",padding:"0 6px",display:"flex",flexFlow:"row nowrap",alignItems:"center",justifyContent:"space-between"},labelIcon:{padding:9},labelText:Object(b.a)({flexGrow:1},e.typography.body2,{letterSpacing:"normal",margin:e.spacing(0,1)}),labelAction:{width:42,flex:"0 0 auto"},newLabelContainer:{padding:e.spacing(0,2),marginTop:e.spacing(.5),display:"flex",flexFlow:"row nowrap",alignItems:"center",justifyContent:"center"},newLabelText:Object(b.a)({flexGrow:1,margin:e.spacing(0,1)},e.typography.body2,{letterSpacing:"normal"}),newLabelButton:{marginLeft:e.spacing(1)},scrollbar:Object(U.a)({maxHeight:"calc(100vh - 144px)"},e.breakpoints.up("sm"),{maxHeight:"calc(100vh - 200px)"})}})),le=function(e){var t=e.labels,a=e.checkedIds,n=e.toggleCheck,r=e.edit,o=e.toggleEditor,s=e.selectEditedLabel,i=e.editedLabel,l=e.newLabel,u=e.changeName,d=e.createLabel,p=e.updateLabel,f=e.deleteLabel,m=ie();return c.a.createElement("div",null,c.a.createElement("div",{className:m.header},c.a.createElement(te.a,{className:m.title},"Labels"),c.a.createElement($.a,{edge:"end",size:"small",onClick:o},c.a.createElement(se.a,{fontSize:"small"}))),c.a.createElement(X.a,{className:m.scrollbar},c.a.createElement("ul",{className:m.list},t.map((function(e){return c.a.createElement("li",{key:e.id,className:m.listItem,onClick:r?s(e):n(e.id)},r?c.a.createElement($.a,{color:"primary",className:m.labelIcon,onClick:f(e.id)},c.a.createElement(ne.a,{color:"primary"})):c.a.createElement(Z.a,{disableRipple:!0,checked:a.includes(e.id),color:"primary"}),e.id===i.id?c.a.createElement(ee.a,{error:i.error,value:i.name,autoFocus:!0,className:m.labelText,onChange:u(e.name)}):c.a.createElement(te.a,{noWrap:!0,className:m.labelText},e.name),c.a.createElement("div",{className:m.labelAction},e.id===i.id&&c.a.createElement($.a,{color:"primary",disabled:i.disabled,className:m.labelIcon,onClick:p},c.a.createElement(ce.a,{color:i.disabled?"disabled":"primary"}))))})))),r&&c.a.createElement("div",{className:m.newLabelContainer},c.a.createElement(ee.a,{error:l.error,value:l.name,onChange:u(),className:m.newLabelText}),c.a.createElement(Y.a,{disabled:l.disabled,size:"small",variant:"contained",color:"primary",className:m.newLabelButton,onClick:d},"Add")))},ue=function(e){var t=e.open,a=e.checkedIds,n=e.setCheckedIds,o=Object(r.useState)(W()),s=Object(u.a)(o,2),i=s[0],d=s[1],p=Object(r.useState)(!1),f=Object(u.a)(p,2),m=f[0],g=f[1],x=Object(r.useState)({}),v=Object(u.a)(x,2),w=v[0],E=v[1],y=Object(r.useState)({name:"",disabled:!0}),O=Object(u.a)(y,2),j=O[0],k=O[1];Object(r.useEffect)((function(){t||g(!1)}),[t]),Object(r.useEffect)((function(){m||(E({}),k({name:"",disabled:!0}))}),[m]);var I=function(e,t){return(e=e.trim()).length?t&&e===t?{error:!1,disabled:!1}:i.some((function(t){return t.name===e}))?{error:!0,message:"Dublicate",disabled:!0}:{error:!1,disabled:!1}:{error:!0,message:"Only spaces",disabled:!0}};return c.a.createElement(le,{labels:i,checkedIds:a,toggleCheck:function(e){return function(){var t=a.indexOf(e),r=Object(h.a)(a);-1===t?r.push(e):r.splice(t,1),n(r)}},edit:m,toggleEditor:function(){g(!m)},selectEditedLabel:function(e){return function(){e?e.id!==w.id&&E(Object(b.a)({},e,{disabled:!0})):E({})}},editedLabel:w,newLabel:j,changeName:function(e){return function(t){var a=t.target.value,n=e?w:j,r=e?E:k,c=I(a,e);r(Object(b.a)({},n,{name:a},c))}},createLabel:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(D(j.name));case 2:k({name:"",disabled:!0}),d(W());case 4:case"end":return e.stop()}}))},updateLabel:function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.stopPropagation(),t.next=3,l.a.awrap(P(w));case 3:d(W());case 4:case"end":return t.stop()}}))},deleteLabel:function(e){return function(t){return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t.stopPropagation(),r.next=3,l.a.awrap(M(e));case 3:d(W()),n(a.filter((function(t){return t!==e})));case 5:case"end":return r.stop()}}))}}})},de=a(398),pe=a(402),fe=a(400),me=a(401),ge=a(399),be=function(e){var t=e.open,a=e.title,n=e.text,r=e.btnText,o=e.cancelAction,s=e.submitAction;return c.a.createElement(de.a,{open:t,onClose:o},c.a.createElement(ge.a,null,a),c.a.createElement(fe.a,null,c.a.createElement(me.a,null,n)),c.a.createElement(pe.a,null,c.a.createElement(Y.a,{onClick:o,color:"primary"},"Cancel"),c.a.createElement(Y.a,{onClick:s,variant:"contained",color:"primary",autoFocus:!0},r)))},he=function(e){var t=e.open,a=e.setOpen,n=e.title,r=e.text,o=e.btnText,s=e.action;return c.a.createElement(be,{open:t,title:n,text:r,btnText:o,cancelAction:function(){a(!1)},submitAction:function(){s(),a(!1)}})},xe=a(8),ve=a(408),we=a(415),Ee=a(361),ye=a(409),Oe=a(410),je=a(173),ke=a.n(je),Ie=a(170),Ce=a.n(Ie),Ne=a(171),Se=a.n(Ne),Le=a(172),Be=a.n(Le),Fe=a(404),Re=a(403),Te=a(405),ze=a(407),De=a(406),Pe=a(414),Me=a(168),We=a.n(Me),Ae=a(169),He=new We.a,qe=new Ae.Parser,Je=function(e){var t=He.render(e);return qe.parse(t)},Qe=Object(Q.a)((function(e){return{notesContainer:{position:"relative",margin:"auto",maxWidth:1150,paddingTop:56}}})),_e=function(e){var t=e.desktop,a=e.notes,n=e.openEditor,r=e.deleteNote,o=Qe();return c.a.createElement(Re.a,null,c.a.createElement("div",{className:o.notesContainer},c.a.createElement(Fe.a,{container:!0,spacing:t?3:1},a.map((function(e){var t=e.id,a=e.title,s=e.text,i=e.labelsIds;return c.a.createElement(Fe.a,{key:t,item:!0,xs:12,md:6,lg:4},c.a.createElement(Te.a,{className:o.note},c.a.createElement(De.a,{className:o.noteContent},c.a.createElement("div",null,W(i).map((function(e){var t=e.id,a=e.name;return c.a.createElement(Pe.a,{key:t,size:"small",label:a})}))),c.a.createElement(te.a,{gutterBottom:!0,variant:"h5",component:"h2"},a),Je(s)),c.a.createElement(ze.a,null,c.a.createElement(Y.a,{size:"small",color:"primary",onClick:r(t)},"Delete"),c.a.createElement(Y.a,{size:"small",color:"primary",onClick:n(e)},"Edit"))))})))))},Ge=Object(Q.a)((function(e){return{toolbar:{display:"flex",flexFlow:"row wrap",justifyContent:"space-between",alignItems:"center",height:56,padding:e.spacing(.5,2)},leftBlock:Object(U.a)({display:"none"},e.breakpoints.up("sm"),{flex:"0 0 120px",display:"flex",justifyContent:"flex-start",paddingLeft:e.spacing(7),marginRight:e.spacing(.5)}),middleBlock:{flex:"1 1 auto",display:"flex",justifyContent:"center"},rightBlock:Object(U.a)({flex:"0 0 auto",display:"flex",marginLeft:e.spacing(.5),justifyContent:"flex-end"},e.breakpoints.up("sm"),{flex:"0 0 120px"}),search:{position:"relative",display:"flex",alignItems:"center",borderRadius:e.shape.borderRadius,backgroundColor:Object(xe.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(xe.c)(e.palette.common.white,.25)},width:"100%",maxWidth:720,height:38},searchIcon:{width:e.spacing(7),position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},searchRoot:{color:"inherit",width:"100%"},searchInput:{padding:e.spacing(1,1,1,7)},drawerPaper:Object(U.a)({width:256},e.breakpoints.up("sm"),{zIndex:e.zIndex.appBar-1,top:56}),filtersHeader:{height:55,padding:e.spacing(0,2),display:"flex",flexFlow:"row nowrap",alignItems:"center",justifyContent:"space-between"},filtersBody:{padding:e.spacing(1,0)},fab:Object(U.a)({position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},e.breakpoints.up("sm"),{bottom:e.spacing(3),right:e.spacing(5)}),unshift:Object(U.a)({},e.breakpoints.up("sm"),{transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginRight:0}),shift:Object(U.a)({},e.breakpoints.up("sm"),{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:256})}})),Ke=function(e){var t,a,n=e.desktop,r=e.notes,o=e.drawer,s=e.toggleDrawer,i=e.query,l=e.changeQueryString,u=e.setQueryLabelsIds,d=e.openEditor,p=e.deleteNote,f=e.dialogOpen,m=e.setDialogOpen,g=e.deleteFunc,b=Ge();return c.a.createElement(c.a.Fragment,null,c.a.createElement(ve.a,{position:"fixed"},c.a.createElement("div",{className:b.toolbar},c.a.createElement("div",{className:b.leftBlock},c.a.createElement(te.a,{variant:"h6",noWrap:!0},"Notes")),c.a.createElement("div",{className:b.middleBlock},c.a.createElement("div",{className:b.search},c.a.createElement("div",{className:b.searchIcon},c.a.createElement(Ce.a,null)),c.a.createElement(Ee.a,{placeholder:"Search\u2026",classes:{root:b.searchRoot,input:b.searchInput},value:i.string,onChange:l,autoFocus:!0}))),c.a.createElement("div",{className:b.rightBlock},c.a.createElement($.a,{edge:"end",color:"inherit",onClick:s},c.a.createElement(Se.a,null))))),c.a.createElement(we.a,{classes:{paper:b.drawerPaper},variant:n?"persistent":"temporary",open:o,onClose:s,anchor:"right"},c.a.createElement("div",{className:b.filtersHeader},c.a.createElement(te.a,{variant:"h6",noWrap:!0},"Filters"),n&&c.a.createElement($.a,{edge:"end",color:"inherit",onClick:s},c.a.createElement(Be.a,null))),c.a.createElement(ye.a,null),c.a.createElement("div",{className:b.filtersBody},c.a.createElement(ue,{open:o,checkedIds:i.labelsIds,setCheckedIds:u}))),c.a.createElement("div",{className:Object(V.a)(b.content,(t={},Object(U.a)(t,b.shift,o),Object(U.a)(t,b.unshift,!o),t))},c.a.createElement(_e,{notes:r,desktop:n,openEditor:d,deleteNote:p})),c.a.createElement(he,{open:f,setOpen:m,title:"Deleting note",text:"Do you really want to delete this note?",btnText:"delete",action:g}),c.a.createElement(Oe.a,{className:Object(V.a)(b.fab,(a={},Object(U.a)(a,b.shift,o),Object(U.a)(a,b.unshift,!o),a)),color:"primary","aria-label":"add",onClick:d()},c.a.createElement(ke.a,null)))},Ue=a(96),Ve=a(174),Xe=a.n(Ve),Ye=a(175),Ze=a.n(Ye),$e=a(176),et=a.n($e),tt=Object(Q.a)((function(e){return{toolbar:{display:"flex",flexFlow:"row wrap",height:112,padding:e.spacing(.5,2)},leftBlock:{flex:"1 0 0",alignSelf:"flex-start",display:"flex"},rightBlock:{flex:"1 0 0",alignSelf:"flex-start",display:"flex",justifyContent:"flex-end"},titleBlock:{flex:"1 0 100%",paddingBottom:e.spacing(1.5),paddingLeft:e.spacing(7)},note:{padding:e.spacing(17,2,0,2),minHeight:"100vh"},inputRoot:{color:"rgb(255, 255, 255)",fontSize:"1.5rem",lineHeight:1.33,letterSpacing:"0em","&.MuiInput-underline:after":{borderBottomColor:"rgb(255, 255, 255)"},"&.MuiInput-underline:before":{borderBottomColor:"rgba(255, 255, 255, 0.42)"},"&.MuiInput-underline:hover:before":{borderBottomColor:"rgba(255, 255, 255, 0.42)"}},drawerPaper:Object(U.a)({width:256,padding:e.spacing(1,0)},e.breakpoints.up("sm"),{zIndex:e.zIndex.appBar-1,top:112}),fab:Object(U.a)({position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},e.breakpoints.up("sm"),{bottom:e.spacing(3),right:e.spacing(5)+256}),changeModeBtn:{position:"fixed",top:e.spacing(2)+112,right:e.spacing(2)+256}}})),at=function(e){var t=e.note,a=e.desktop,n=e.drawer,o=e.toggleDrawer,s=e.changeField,i=e.setLabelsIds,l=e.saveNote,u=e.closeNote,d=e.showRendered,p=e.changeRenderedMode,f=Object(r.useRef)(null),m=tt();return c.a.createElement(c.a.Fragment,null,c.a.createElement(ve.a,{position:"fixed"},c.a.createElement("div",{className:m.toolbar},c.a.createElement("div",{className:m.leftBlock},c.a.createElement($.a,{edge:"start",color:"inherit",onClick:u},c.a.createElement(Xe.a,null))),c.a.createElement("div",{className:m.rightBlock},!a&&c.a.createElement($.a,{edge:"end",color:"inherit",onClick:o},c.a.createElement(Ze.a,null))),c.a.createElement("div",{className:m.titleBlock},c.a.createElement(ee.a,{fullWidth:!0,classes:{root:m.inputRoot},autoComplete:"off",value:t.title,name:"title",placeholder:"Title",onChange:s})))),c.a.createElement(we.a,{classes:{paper:m.drawerPaper},variant:a?"persistent":"temporary",open:!!a||n,onClose:o,anchor:"right"},c.a.createElement(ue,{open:n,checkedIds:t.labelsIds,setCheckedIds:i})),c.a.createElement(Ue.a,{square:!1,elevation:0,className:m.note,onClick:function(){f.current&&f.current.focus()}},d?Je(t.text):c.a.createElement(Ee.a,{fullWidth:!0,inputRef:f,multiline:!0,autoComplete:"off",value:t.text,name:"text",onChange:s,placeholder:"Content"})),c.a.createElement(Y.a,{className:m.changeModeBtn,variant:"contained",color:"primary",onClick:p},"Mode"),c.a.createElement(Oe.a,{className:m.fab,color:"primary","aria-label":"add",onClick:l},c.a.createElement(et.a,null)))},nt=function(e){var t=e.note,a=e.saveNote,n=e.closeEditor,o=Object(r.useContext)(st).desktop,s=Object(r.useState)(!1),i=Object(u.a)(s,2),l=i[0],d=i[1],p=Object(r.useState)(t),f=Object(u.a)(p,2),m=f[0],g=f[1],h=Object(r.useState)(!1),x=Object(u.a)(h,2),v=x[0],w=x[1];Object(r.useEffect)((function(){g(t)}),[t]);return c.a.createElement(at,{desktop:o,drawer:l,toggleDrawer:function(){d(!l)},note:m,changeField:function(e){var t=e.target,a=t.name,n=t.value;g(Object(b.a)({},m,Object(U.a)({},a,n)))},setLabelsIds:function(e){g(Object(b.a)({},m,{labelsIds:e}))},saveNote:a(m),closeNote:function(){n()},showRendered:v,changeRenderedMode:function(){w(!v)}})},rt=function(){var e=Object(r.useContext)(st).desktop,t=Object(r.useState)(e),a=Object(u.a)(t,2),o=a[0],s=a[1],i=Object(r.useState)({string:"",labelsIds:[]}),l=Object(u.a)(i,2),d=l[0],p=l[1],f=Object(r.useState)([]),m=Object(u.a)(f,2),g=m[0],h=m[1],x=Object(r.useState)(null),v=Object(u.a)(x,2),w=v[0],E=v[1],y=Object(r.useState)(!1),O=Object(u.a)(y,2),k=O[0],I=O[1],C=Object(r.useState)(),N=Object(u.a)(C,2),S=N[0],D=N[1];Object(r.useEffect)((function(){h(A(d))}),[d]),Object(r.useEffect)((function(){s(e)}),[e]);var P=function(e){return function(){return function(){!function(e){var t=n.notes[e];R(e,B(t.title)),R(e,B(t.text)),z(e,t.labelsIds),delete n.notes[e],j("data",n)}(e),h(A(d))}}};return w?c.a.createElement(nt,{note:w,saveNote:function(e){return function(){var t;t=e.id?function(e){var t,a,r=!1,c=n.notes[e.id];if(e.title!==c.title){var o=B(c.title),s=B(e.title),i=L(o,s),l=L(s,o);R(e.id,i),F(e.id,l),r=!0}if(e.text!==c.text){var u=B(c.text),d=B(e.text),p=L(u,d),f=L(d,u);R(e.id,p),F(e.id,f),r=!0}if(t=e.labelsIds,a=c.labelsIds,t.length!==a.length||!t.every((function(e){return a.includes(e)}))){var m=L(c.labelsIds,e.labelsIds),g=L(e.labelsIds,c.labelsIds);z(e.id,m),T(e.id,g),r=!0}return r&&(n.notes[e.id]=e,j("data",n)),n.notes[e.id]}(e):function(e){var t=e.labelsIds,a=e.title,r=e.text,c=n.options.notesCrtId+1;return n.options.notesCrtId=c,F(c,B(a)),F(c,B(r)),T(c,t),n.notes[c]=Object(b.a)({id:c},e),j("data",n),n.notes[c]}(e),E(t),h(A(d))}},closeEditor:function(){E(null)}}):c.a.createElement(Ke,{desktop:e,drawer:o,toggleDrawer:function(){s(!o)},notes:g,query:d,changeQueryString:function(e){var t=e.target.value;p(Object(b.a)({},d,{string:t}))},setQueryLabelsIds:function(e){p(Object(b.a)({},d,{labelsIds:e}))},openEditor:function(e){return function(){E(e=e||{labelsIds:[],title:"",text:""})}},deleteNote:function(e){return function(){D(P(e)),I(!0)}},dialogOpen:k,setDialogOpen:I,deleteFunc:S})},ct=a(411),ot=a(412),st=Object(r.createContext)(null);s.a.render(c.a.createElement((function(){var e=Object(r.useState)(!0),t=Object(u.a)(e,2),a=t[0],o=t[1],s=Object(r.useState)(""),i=Object(u.a)(s,2),d=i[0],p=i[1],m=Object(ct.a)("(min-width:600px)");return Object(r.useEffect)((function(){!function(){var e,t;l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!(e=window.location.hash)){a.next=6;break}f(e),a.next=8;break;case 6:return a.next=8,l.a.awrap(l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(y());case 2:e.t0=function(e){var t=e.id,a=e.name;E[a]=t},e.sent.forEach(e.t0);case 4:case"end":return e.stop()}})));case 2:if(t="data",E.hasOwnProperty(t)){e.next=5;break}return e.next=5,l.a.awrap(O("data",{labels:{},notes:{},indexing:{},options:{labelsCrtId:0,notesCrtId:0,version:"0.1.3"}}));case 5:return e.next=8,l.a.awrap(k("data"));case 8:n=e.sent;case 9:case"end":return e.stop()}var t})));case 8:a.next=15;break;case 11:a.prev=11,a.t0=a.catch(0),t=a.t0.message,p(t);case 15:return a.prev=15,o(!1),a.finish(15);case 18:case 19:case"end":return a.stop()}}),null,null,[[0,11,15,18]])}()}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,null),c.a.createElement(st.Provider,{value:{isLoading:a,setIsLoading:o,error:d,setError:p,desktop:m}},a?c.a.createElement(K,null):c.a.createElement(rt,null)))}),null),document.getElementById("root"))}},[[189,1,2]]]);
//# sourceMappingURL=main.50c4fc6e.chunk.js.map