{"version":3,"sources":["services/auth.js","services/fetch.js","services/library.js","services/drive.js","services/sets.js","containers/NotesContext.js","components/Labels.js","containers/LabelsContainer.js","components/NoteList.js","components/MainPage.js","containers/MainPageContainer.js","services/events.js","components/Editor.js","containers/EditorPageContainer.js","containers/App.js","index.js"],"names":["signIn","Promise","resolve","url","googleSignInProperties","params","paramString","Object","keys","map","param","join","win","window","open","timer","setInterval","closed","clearInterval","parseHash","hash","substring","split","reduce","store","error","access_token","close","saveToken","token","localStorage","setItem","getToken","getItem","labelsData","indexingData","notesData","fetch","addUrl","options","a","tryCount","Error","googleApiBaseUrl","headers","axios","data","response","status","message","ids","initDrive","getFilesList","id","name","forEach","pageToken","method","spaces","fields","files","nextPageToken","createFiles","fileList","all","createFileMetadata","updateFiles","updateFile","fileName","fileData","updateFileContent","getFile","getFileContent","getFiles","fileNameList","mimeType","parents","fileId","JSON","stringify","alt","intersection","setA","setB","length","filter","item","includes","difference","compare","every","initLibrary","currentId","createNoteData","note","labelsIds","title","text","addWords","parseTextToWords","addLabels","deleteNoteData","deleteWords","deleteLabels","updateNoteData","changedNote","isChanged","oldNote","oldWords","newWords","deletedWords","addedWords","deletedLabels","addedLabels","regex","RegExp","MIN_WORD_LENGTH","toLowerCase","match","noteId","words","word","i","j","wordPart","slice","push","notesIds","splice","indexOf","createLabelData","updateLabelData","label","deleteLabelData","labelId","getLabelsData","values","getNotesData","string","getNotesIds","getNotesIdsByLabelsIds","getNotesIdsByString","previous","current","NotesContext","createContext","NotesProvider","children","useState","setNote","query","setQuery","openEditor","useContext","AppContext","Provider","value","handleQuery","target","useStyles","makeStyles","theme","header","padding","spacing","display","flexFlow","alignItems","justifyContent","color","palette","secondary","fontFamily","typography","fontWeight","fontWeightMedium","fontSize","pxToRem","list","listStyle","margin","marginBottom","listItem","width","height","labelIcon","labelText","body2","letterSpacing","labelAction","flex","newLabelContainer","marginTop","newLabelText","newLabelButton","marginLeft","Labels","labels","checkedIds","toggleCheck","edit","toggleEditor","selectEditedLabel","editedLabel","newLabel","changeName","createLabel","updateLabel","deleteLabel","classes","className","Typography","IconButton","edge","size","onClick","key","Checkbox","disableRipple","checked","Input","autoFocus","onChange","noWrap","disabled","Button","variant","LabelsContainer","setCheckedIds","setLabels","setEdit","setEditedLabel","setNewLabel","useEffect","event","stopPropagation","validateName","newName","originalName","trim","some","index","newCheckedIds","checkedId","notesContainer","position","maxWidth","paddingTop","NoteList","desktop","notes","deleteNote","Container","Grid","container","xs","md","lg","Card","CardContent","noteContent","Chip","gutterBottom","component","CardActions","toolbar","leftBlock","breakpoints","up","paddingLeft","marginRight","middleBlock","rightBlock","search","borderRadius","shape","backgroundColor","fade","common","white","searchIcon","pointerEvents","searchRoot","searchInput","drawerPaper","zIndex","appBar","top","filtersHeader","filtersBody","fab","bottom","right","unshift","transition","transitions","create","easing","sharp","duration","leavingScreen","shift","easeOut","enteringScreen","MainPage","selectedIds","setSelectedIds","toggleDrawer","AppBar","InputBase","placeholder","root","input","Drawer","paper","onClose","anchor","Divider","clsx","content","Fab","aria-label","withWidth","setOpen","setNotes","func","timeout","defaultDebounceTimeMs","debounce","debounceEvent","isWidthUp","alignSelf","titleBlock","paddingBottom","minHeight","inputRoot","lineHeight","borderBottomColor","Editor","saveNote","changeField","inputBody","closeEditor","useRef","fullWidth","autoComplete","Paper","square","elevation","focus","inputRef","multiline","openMain","noteData","setNoteData","preventDefault","ReactDOM","render","isLoading","setIsLoading","setError","page","setPage","location","initApp","CssBaseline","getPageComponent","document","getElementById"],"mappings":"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","file":"static/js/main.93ce223e.chunk.js","sourcesContent":["import { googleSignInProperties } from '../config';\r\n\r\nexport const signIn = () => {\r\n  return new Promise((resolve) => {\r\n    let { url, params } = googleSignInProperties;\r\n    if (params) {\r\n      const paramString = Object.keys(params)\r\n        .map(param => `${param}=${params[param]}`)\r\n        .join('&');\r\n      url += `?${paramString}`;\r\n    };\r\n    const win = window.open(url, 'signin', 'modal');\r\n    const timer = setInterval(() => {\r\n      if (!win.closed) {\r\n        return;\r\n      };\r\n      resolve();\r\n      clearInterval(timer);\r\n    }, 500);\r\n  });\r\n};\r\n\r\nexport const parseHash = (hash) => {\r\n  if (hash) {\r\n    const { error, access_token } = hash\r\n      .substring(1)\r\n      .split('&')\r\n      .reduce((store, param) => {\r\n        param = param.split('=');\r\n        store[param[0]] = param[1];\r\n        return store;\r\n      }, {});\r\n    if (error) {\r\n      window.close();\r\n    } else if (access_token) {\r\n      saveToken(access_token);\r\n    };\r\n  };\r\n  window.close();\r\n};\r\n\r\nconst saveToken = token => {\r\n  localStorage.setItem('token', token);\r\n};\r\n\r\nexport const getToken = () => {\r\n  return localStorage.getItem('token');\r\n};\r\n","import axios from 'axios';\r\nimport { getToken, signIn } from './auth';\r\nimport { googleApiBaseUrl } from '../config';\r\nexport const fetch = async (addUrl, options, tryCount = 0) => {\r\n  if (tryCount === 3) {\r\n    throw new Error('Request rejected three times');\r\n  } \r\n  tryCount += 1;\r\n  const token = getToken();\r\n  if (token) {\r\n    try {\r\n      const url = googleApiBaseUrl + addUrl;\r\n      const headers = {\r\n        'Authorization': `Bearer ${token}`\r\n      };\r\n      const { data } = await axios({\r\n        url,\r\n        headers,\r\n        ...options\r\n      });\r\n      return data;\r\n    } catch (err) {\r\n      if (err.response && err.response.status === 401) {\r\n        await signIn();\r\n        return await fetch(addUrl, options, tryCount);\r\n      } else {\r\n        throw new Error(err.message);\r\n      };\r\n    };\r\n  } else {\r\n    await signIn();\r\n    return await fetch(addUrl, options, tryCount);\r\n  };\r\n};\r\n","import { initDrive, checkFiles, getFiles, createFiles, updateFile, updateFiles } from './drive';\r\nimport { intersection, difference, compare } from './sets';\r\nimport { MIN_WORD_LENGTH } from '../config';\r\n\r\nlet labelsData;\r\nlet indexingData;\r\nlet notesData;\r\n\r\nexport const initLibrary = async () => {\r\n  await initDrive();\r\n  if (!checkFiles(['labelsData', 'notesData', 'indexingData'])) {\r\n    await createFiles([\r\n      { name: 'labelsData', data: { currentId: 0 } },\r\n      { name: 'notesData', data: { currentId: 0 } },\r\n      { name: 'indexingData', data: {} }\r\n    ]);\r\n  };\r\n  [labelsData, notesData, indexingData] = await getFiles(['labelsData', 'notesData', 'indexingData']);\r\n};\r\n\r\nexport const createNoteData = async (note) => {\r\n  const { labelsIds, title, text } = note;\r\n  const id = notesData.currentId + 1;\r\n  notesData.currentId = id;\r\n  addWords(id, parseTextToWords(title));\r\n  addWords(id, parseTextToWords(text));\r\n  addLabels(id, labelsIds);\r\n  notesData[id] = { id: id, ...note };\r\n  await updateFiles([\r\n    { name: 'labelsData', data: labelsData },\r\n    { name: 'indexingData', data: indexingData },\r\n    { name: 'notesData', data: notesData }\r\n  ]);\r\n};\r\n\r\nexport const deleteNoteData = async (id) => {\r\n  const note = notesData[id];\r\n\r\n  deleteWords(id, parseTextToWords(note.title));\r\n  deleteWords(id, parseTextToWords(note.text));\r\n  deleteLabels(id, note.labelsIds);\r\n  delete notesData[id];\r\n\r\n  await updateFiles([\r\n    { name: 'labelsData', data: labelsData },\r\n    { name: 'indexingData', data: indexingData },\r\n    { name: 'notesData', data: notesData }\r\n  ]);\r\n};\r\n\r\nexport const updateNoteData = async (changedNote) => {\r\n  let isChanged = false;\r\n  const oldNote = notesData[changedNote.id];\r\n\r\n  if (changedNote.title !== oldNote.title) {\r\n    const oldWords = parseTextToWords(oldNote.title);\r\n    const newWords = parseTextToWords(changedNote.title);\r\n    const deletedWords = difference(oldWords, newWords);\r\n    const addedWords = difference(newWords, oldWords);\r\n\r\n    deleteWords(changedNote.id, deletedWords);\r\n    addWords(changedNote.id, addedWords);\r\n\r\n    isChanged = true;\r\n  };\r\n\r\n  if (changedNote.text !== oldNote.text) {\r\n    const oldWords = parseTextToWords(oldNote.text);\r\n    const newWords = parseTextToWords(changedNote.text);\r\n    const deletedWords = difference(oldWords, newWords);\r\n    const addedWords = difference(newWords, oldWords);\r\n\r\n    deleteWords(changedNote.id, deletedWords);\r\n    addWords(changedNote.id, addedWords);\r\n\r\n    isChanged = true;\r\n  };\r\n\r\n  if (!compare(changedNote.labelsIds, oldNote.labelsIds)) {\r\n    const deletedLabels = difference(oldNote.labelsIds, changedNote.labelsIds);\r\n    const addedLabels = difference(changedNote.labelsIds, oldNote.labelsIds);\r\n\r\n    deleteLabels(changedNote.id, deletedLabels);\r\n    addLabels(changedNote.id, addedLabels);\r\n\r\n    isChanged = true;\r\n  };\r\n\r\n  if (isChanged) {\r\n    notesData[changedNote.id] = changedNote;\r\n    await updateFiles([\r\n      { name: 'labelsData', data: labelsData },\r\n      { name: 'notesData', data: notesData },\r\n      { name: 'indexingData', data: indexingData }\r\n    ]);\r\n  };\r\n};\r\n\r\nconst parseTextToWords = (text) => {\r\n  const regex = new RegExp(`\\\\b[a-z]{${MIN_WORD_LENGTH},}\\\\b`, 'g');\r\n  return text.toLowerCase().match(regex) || [];\r\n};\r\n\r\nconst addWords = (noteId, words) => {\r\n  words.forEach(word => {\r\n    for (let i = 0; i <= word.length - MIN_WORD_LENGTH; i++) {\r\n      for (let j = word.length; j >= i + MIN_WORD_LENGTH; j--) {\r\n        const wordPart = word.slice(i, j);\r\n        if (!indexingData[wordPart]) {\r\n          indexingData[wordPart] = [noteId]\r\n        } else {\r\n          if (!indexingData[wordPart].includes(noteId)) {\r\n            indexingData[wordPart].push(noteId);\r\n          };\r\n        };\r\n      };\r\n    };\r\n  });\r\n};\r\n\r\nconst deleteWords = (noteId, words) => {\r\n  words.forEach(word => {\r\n    for (let i = 0; i <= word.length - MIN_WORD_LENGTH; i++) {\r\n      for (let j = word.length; j >= i + MIN_WORD_LENGTH; j--) {\r\n        const wordPart = word.slice(i, j);\r\n        if (indexingData[wordPart] && indexingData[wordPart].includes(noteId)) {\r\n          if (indexingData[wordPart].length === 1) {\r\n            delete indexingData[wordPart];\r\n          } else {\r\n            const notesIds = indexingData[wordPart];\r\n            notesIds.splice(notesIds.indexOf(noteId), 1);\r\n            indexingData[wordPart] = notesIds;\r\n          };\r\n        };\r\n      };\r\n    };\r\n  });\r\n};\r\n\r\nconst addLabels = (noteId, labelsIds) => {\r\n  labelsIds.forEach(id => labelsData[id].notesIds.push(noteId));\r\n};\r\n\r\nconst deleteLabels = (noteId, labelsIds) => {\r\n  labelsIds.forEach(id => {\r\n    const notesIds = labelsData[id].notesIds;\r\n    notesIds.splice(notesIds.indexOf(noteId), 1);\r\n    labelsData[id].notesIds = notesIds;\r\n  });\r\n};\r\n\r\nexport const createLabelData = async (name) => {\r\n  const id = labelsData.currentId + 1;\r\n  labelsData.currentId = id;\r\n  labelsData[id] = {\r\n    id: id,\r\n    name: name,\r\n    notesIds: []\r\n  };\r\n  await updateFile('labelsData', labelsData);\r\n};\r\n\r\nexport const updateLabelData = async (label) => {\r\n  labelsData[label.id] = label;\r\n  await updateFile('labelsData', labelsData);\r\n};\r\n\r\nexport const deleteLabelData = async (labelId) => {\r\n  labelsData[labelId].notesIds.forEach((id) => {\r\n    const { labelsIds } = notesData[id];\r\n    labelsIds.splice(labelsIds.indexOf(labelId), 1);\r\n    notesData[id].labelsIds = labelsIds;\r\n  });\r\n\r\n  delete labelsData[labelId];\r\n\r\n  await updateFiles([\r\n    { name: 'labelsData', data: labelsData },\r\n    { name: 'notesData', data: notesData }\r\n  ]);\r\n};\r\n\r\nexport const getLabelsData = (labelsIds) => {\r\n  if (labelsIds) {\r\n    return labelsIds.map(id => labelsData[id]);\r\n  };\r\n  return Object.values(labelsData).filter(label => label.id);\r\n};\r\n\r\nexport const getNotesData = (string, labelsIds) => {\r\n  if (!string && !labelsIds.length) {\r\n    return Object.values(notesData).filter(note => note.id);\r\n  };\r\n  return getNotesIds(string, labelsIds).map(id => notesData[id]);\r\n};\r\n\r\nconst getNotesIds = (string, labelsIds) => {\r\n  if (!string) {\r\n    return getNotesIdsByLabelsIds(labelsIds);\r\n  };\r\n  let ids = getNotesIdsByString(string);\r\n  if (ids.length === 0 || !labelsIds.length) {\r\n    return ids;\r\n  };\r\n  return intersection(ids, getNotesIdsByLabelsIds(labelsIds));\r\n};\r\n\r\nconst getNotesIdsByString = (string) => {\r\n  const words = parseTextToWords(string);\r\n  if (words.length === 0) {\r\n    return [];\r\n  };\r\n  if (words.length === 1) {\r\n    return indexingData[words[0]] || [];\r\n  };\r\n  return words\r\n    .map(word => indexingData[word] || [])\r\n    .reduce((previous, current) => intersection(previous, current));\r\n};\r\n\r\nconst getNotesIdsByLabelsIds = (labelsIds) => {\r\n  if (labelsIds.length === 1) {\r\n    return labelsData[labelsIds[0]].notesIds;\r\n  };\r\n  return labelsIds\r\n    .map(id => labelsData[id].notesIds)\r\n    .reduce((previous, current) => intersection(previous, current));\r\n};\r\n","import { fetch } from './fetch';\r\n\r\nlet ids = {};\r\n\r\nexport const initDrive = async () => {\r\n  (await getFilesList())\r\n    .forEach(({ id, name }) => {\r\n      ids[name] = id;\r\n    });\r\n};\r\n\r\nconst getFilesList = async (pageToken) => {\r\n  try {\r\n    const { files, nextPageToken } = await fetch('drive/v3/files', {\r\n      method: 'get',\r\n      params: {\r\n        spaces: 'appDataFolder',\r\n        pageToken: pageToken,\r\n        fields: 'nextPageToken, files(id, name)'\r\n      }\r\n    });\r\n    return (nextPageToken)\r\n      ? [...files, ...getFilesList(nextPageToken)]\r\n      : files;\r\n  } catch (err) {\r\n    throw new Error(err.message);\r\n  };\r\n};\r\n\r\nexport const checkFiles = (fileNameList) => {\r\n  return fileNameList.every(name => ids[name]);\r\n};\r\n\r\nexport const createFile = async (fileName, fileData) => {\r\n  await createFileMetadata(fileName);\r\n  await updateFileContent(ids[fileName], fileData);\r\n};\r\n\r\nexport const createFiles = async (fileList) => {\r\n  await Promise.all(fileList\r\n    .map(async ({ name }) => await createFileMetadata(name))\r\n  );\r\n  await updateFiles(fileList);\r\n};\r\n\r\nexport const updateFile = async (fileName, fileData) => {\r\n  await updateFileContent(ids[fileName], fileData);\r\n};\r\n\r\nexport const updateFiles = async (fileList) => {\r\n  await Promise.all(fileList\r\n    .map(async ({ name, data }) => await updateFileContent(ids[name], data))\r\n  );\r\n};\r\n\r\nexport const deleteFile = async (fileName) => {\r\n  await removeFile(ids[fileName]);\r\n};\r\n\r\nexport const deleteFiles = async (fileNameList) => {\r\n  await Promise.all(fileNameList\r\n    .map(async fileName => await removeFile(ids[fileName]))\r\n  );\r\n};\r\n\r\nexport const getFile = async (fileName) => {\r\n  return await getFileContent(ids[fileName]);\r\n};\r\n\r\nexport const getFiles = async (fileNameList) => {\r\n  return await Promise.all(\r\n    fileNameList.map(async fileName => await getFile(fileName))\r\n  );\r\n};\r\n\r\nconst createFileMetadata = async (fileName) => {\r\n  try {\r\n    const { id } = await fetch('drive/v3/files', {\r\n      method: 'post',\r\n      data: {\r\n        mimeType: 'application/json',\r\n        name: fileName,\r\n        parents: ['appDataFolder']\r\n      }\r\n    });\r\n    ids[fileName] = id;\r\n  } catch (err) {\r\n    throw new Error(err.message);\r\n  };\r\n};\r\n\r\nconst updateFileContent = async (fileId, fileData) => {\r\n  try {\r\n    await fetch(`upload/drive/v3/files/${fileId}`, {\r\n      method: 'patch',\r\n      data: (typeof fileData === 'string')\r\n        ? fileData\r\n        : JSON.stringify(fileData)\r\n    });\r\n  } catch (err) {\r\n    throw new Error(err.message);\r\n  };\r\n};\r\n\r\nconst removeFile = async (fileId) => {\r\n  try {\r\n    await fetch(`drive/v3/files/${fileId}`, {\r\n      method: 'delete'\r\n    });\r\n  } catch (err) {\r\n    throw new Error(err.message);\r\n  };\r\n};\r\n\r\nconst getFileContent = async (fileId) => {\r\n  try {\r\n    return await fetch(`drive/v3/files/${fileId}`, {\r\n      method: 'get',\r\n      params: {\r\n        alt: 'media'\r\n      }\r\n    });\r\n  } catch (err) {\r\n    throw new Error(err.message);\r\n  };\r\n};\r\n\r\n//For tests and debugging\r\nexport const deleteAllData = async () => {\r\n  await Promise.all(\r\n    (await getFilesList())\r\n      .map(async ({ id }) => await removeFile(id))\r\n  );\r\n};\r\n","export const intersection = (setA, setB) => {\r\n  if (setB.length < setA.length) {\r\n    [setA, setB] = [setB, setA];\r\n  };\r\n  return setA.filter(item => setB.includes(item));\r\n};\r\n\r\nexport const difference = (setA, setB) => {\r\n  return setA.filter(item => !setB.includes(item));\r\n};\r\n\r\n//Not universal. Only for this task. Is correctly if each set dont have duplicates\r\nexport const compare = (setA, setB) => {\r\n  if (setA.length !== setB.length) {\r\n    return false;\r\n  };\r\n  return setA.every(item => setB.includes(item));\r\n};\r\n","import React, { useState, createContext, useContext } from 'react';\r\nimport { AppContext } from './App';\r\n\r\nconst NotesContext = createContext(null);\r\n\r\nconst NotesProvider = ({ children }) => {\r\n  const [note, setNote] = useState(null);\r\n  const [query, setQuery] = useState('');\r\n\r\n  const { openEditor } = useContext(AppContext);\r\n\r\n  const handleQuery = () => ({ target: { value } }) => {\r\n    setQuery(value);\r\n  };\r\n\r\n  const editNote = (note) => () => {\r\n    if (note) {\r\n      setNote(note);\r\n    };\r\n    openEditor();\r\n  };\r\n\r\n  return (\r\n    <NotesContext.Provider\r\n      value={{\r\n        note,\r\n        setNote,\r\n        query,\r\n        handleQuery,\r\n        openEditor: editNote\r\n      }}\r\n    >\r\n      {children}\r\n    </NotesContext.Provider>\r\n  );\r\n}\r\n\r\nexport { NotesContext, NotesProvider };\r\n","import React from 'react';\r\n//import PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Input from '@material-ui/core/Input';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport DeleteRoundedIcon from \"@material-ui/icons/DeleteRounded\";\r\nimport DoneRoundedIcon from '@material-ui/icons/DoneRounded';\r\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  header: {\r\n    padding: theme.spacing(0, 2),\r\n    display: \"flex\",\r\n    flexFlow: \"row nowrap\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\"\r\n  },\r\n  title: {\r\n    color: theme.palette.text.secondary,\r\n    fontFamily: theme.typography.fontFamily,\r\n    fontWeight: theme.typography.fontWeightMedium,\r\n    fontSize: theme.typography.pxToRem(14)\r\n  },\r\n  list: {\r\n    listStyle: \"none\",\r\n    padding: 0,\r\n    margin: 0,\r\n    \"& > li:not(:last-child)\": {\r\n      marginBottom: theme.spacing(1)\r\n    }\r\n  },\r\n  listItem: {\r\n    width: \"100%\",\r\n    height: 40,\r\n    padding: \"0 6px\",\r\n    display: \"flex\",\r\n    flexFlow: \"row nowrap\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\"\r\n  },\r\n  labelIcon: {\r\n    padding: 9\r\n  },\r\n  labelText: {\r\n    width: \"100%\",\r\n    ...theme.typography.body2,\r\n    letterSpacing: \"normal\",\r\n    margin: theme.spacing(0, 1)\r\n  },\r\n  labelAction: {\r\n    width: 42,\r\n    flex: \"0 0 auto\"\r\n  },\r\n  newLabelContainer: {\r\n    padding: theme.spacing(0, 2),\r\n    marginTop: theme.spacing(0.5),\r\n    display: \"flex\",\r\n    flexFlow: \"row nowrap\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\"\r\n  },\r\n  newLabelText: {\r\n    width: \"100%\",\r\n    margin: theme.spacing(0, 1),\r\n    ...theme.typography.body2,\r\n    letterSpacing: \"normal\"\r\n  },\r\n  newLabelButton: {\r\n    marginLeft: theme.spacing(1)\r\n  }\r\n}));\r\n\r\nconst Labels = ({\r\n  labels,\r\n  checkedIds,\r\n  toggleCheck,\r\n  edit,\r\n  toggleEditor,\r\n  selectEditedLabel,\r\n  editedLabel,\r\n  newLabel,\r\n  changeName,\r\n  createLabel,\r\n  updateLabel,\r\n  deleteLabel\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div>\r\n      <div className={classes.header}>\r\n        <Typography className={classes.title}>\r\n          Labels\r\n        </Typography>\r\n        <IconButton edge=\"end\" size=\"small\" onClick={toggleEditor}>\r\n          <EditRoundedIcon fontSize=\"small\" />\r\n        </IconButton>\r\n      </div>\r\n      <ul className={classes.list}>\r\n        {\r\n          labels.map((label) => {\r\n            return (\r\n              <li\r\n                key={label.id}\r\n                className={classes.listItem}\r\n                onClick={edit ? selectEditedLabel(label) : toggleCheck(label.id)}\r\n              >\r\n                {\r\n                  edit\r\n                    ? (\r\n                      <IconButton\r\n                        color=\"primary\"\r\n                        className={classes.labelIcon}\r\n                        onClick={deleteLabel(label.id)}\r\n                      >\r\n                        <DeleteRoundedIcon color=\"primary\" />\r\n                      </IconButton >\r\n                    )\r\n                    : (\r\n                      <Checkbox\r\n                        disableRipple\r\n                        checked={checkedIds.includes(label.id)}\r\n                        color=\"primary\"\r\n                      />\r\n                    )\r\n                }\r\n                {\r\n                  label.id === editedLabel.id\r\n                    ? (\r\n                      <Input\r\n                        error={editedLabel.error}\r\n                        value={editedLabel.name}\r\n                        autoFocus\r\n                        className={classes.labelText}\r\n                        onChange={changeName(label.name)}\r\n                      />\r\n                    )\r\n                    : (\r\n                      <Typography\r\n                        noWrap\r\n                        className={classes.labelText}\r\n                      >\r\n                        {label.name}\r\n                      </Typography>\r\n                    )\r\n                }\r\n                <div className={classes.labelAction}>\r\n                  {\r\n                    label.id === editedLabel.id && (\r\n                      <IconButton\r\n                        color=\"primary\"\r\n                        disabled={editedLabel.disabled}\r\n                        className={classes.labelIcon}\r\n                        onClick={updateLabel}\r\n                      >\r\n                        <DoneRoundedIcon color={editedLabel.disabled ? \"disabled\" : \"primary\"} />\r\n                      </IconButton>\r\n                    )\r\n                  }\r\n                </div>\r\n              </li >\r\n            );\r\n          })\r\n        }\r\n      </ul>\r\n      {\r\n        edit && (\r\n          <div className={classes.newLabelContainer}>\r\n            <Input\r\n              error={newLabel.error}\r\n              value={newLabel.name}\r\n              onChange={changeName()}\r\n              className={classes.newLabelText}\r\n            />\r\n            <Button\r\n              disabled={newLabel.disabled}\r\n              size=\"small\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.newLabelButton}\r\n              onClick={createLabel}\r\n            >\r\n              Add\r\n            </Button>\r\n          </div>\r\n        )\r\n      }\r\n    </div >\r\n  );\r\n};\r\n\r\n/*Editor.propTypes = {\r\n  handleChange: PropTypes.func\r\n};*/\r\n\r\nexport default Labels;\r\n","import React, { useState, useEffect } from 'react';\r\n//import PropTypes from 'prop-types';\r\nimport { getLabelsData, createLabelData, updateLabelData, deleteLabelData } from '../services/library';\r\nimport Labels from '../components/Labels';\r\n\r\nconst LabelsContainer = ({ open, checkedIds, setCheckedIds }) => {\r\n  const [labels, setLabels] = useState(getLabelsData());\r\n  const [edit, setEdit] = useState(false);\r\n  const [editedLabel, setEditedLabel] = useState({});\r\n  const [newLabel, setNewLabel] = useState({ name: '', disabled: true });\r\n\r\n  useEffect(() => {\r\n    if (!open) {\r\n      setEdit(false);\r\n    };\r\n  }, [open]);\r\n\r\n  useEffect(() => {\r\n    if (!edit) {\r\n      setEditedLabel({});\r\n      setNewLabel({ name: '', disabled: true });\r\n    }\r\n  }, [edit]);\r\n\r\n  const toggleCheck = (id) => () => {\r\n    const index = checkedIds.indexOf(id);\r\n    const newCheckedIds = [...checkedIds];\r\n    if (index === -1) {\r\n      newCheckedIds.push(id);\r\n    } else {\r\n      newCheckedIds.splice(index, 1);\r\n    };\r\n    setCheckedIds(newCheckedIds);\r\n  };\r\n\r\n  const toggleEditor = () => {\r\n    setEdit(!edit);\r\n  };\r\n\r\n  const selectEditedLabel = (label) => () => {\r\n    if (label) {\r\n      if (label.id !== editedLabel.id) {\r\n        setEditedLabel({ ...label, disabled: true });\r\n      };\r\n    } else {\r\n      setEditedLabel({});\r\n    };\r\n  };\r\n\r\n  const createLabel = async () => {\r\n    setNewLabel({ name: '', disabled: true });\r\n    await createLabelData(newLabel.name);\r\n    setLabels(getLabelsData());\r\n  };\r\n\r\n  const updateLabel = async (event) => {\r\n    event.stopPropagation();\r\n    await updateLabelData(editedLabel);\r\n    setLabels(getLabelsData());\r\n  };\r\n\r\n  const deleteLabel = (id) => async (event) => {\r\n    event.stopPropagation();\r\n    await deleteLabelData(id);\r\n    setLabels(getLabelsData());\r\n    setCheckedIds(checkedIds.filter(checkedId => checkedId !== id));\r\n  };\r\n\r\n  const changeName = (originalName) => ({ target: { value } }) => {\r\n    const currentLabel = originalName ? editedLabel : newLabel;\r\n    const currentSetMethod = originalName ? setEditedLabel : setNewLabel;\r\n    const validateResult = validateName(value, originalName);\r\n    currentSetMethod({ ...currentLabel, name: value, ...validateResult });\r\n  };\r\n\r\n  const validateName = (newName, originalName) => {\r\n    newName = newName.trim();\r\n\r\n    if (!newName.length) {\r\n      return { error: true, message: \"Only spaces\", disabled: true };\r\n    };\r\n\r\n    if (originalName && newName === originalName) {\r\n      return { error: false, disabled: false };\r\n    };\r\n\r\n    const dublicate = labels.some(({ name }) => name === newName);\r\n    if (dublicate) {\r\n      return { error: true, message: \"Dublicate\", disabled: true };\r\n    } else {\r\n      return { error: false, disabled: false };\r\n    };\r\n  };\r\n\r\n  return (\r\n    <Labels\r\n      labels={labels}\r\n      checkedIds={checkedIds}\r\n      toggleCheck={toggleCheck}\r\n      edit={edit}\r\n      toggleEditor={toggleEditor}\r\n      selectEditedLabel={selectEditedLabel}\r\n      editedLabel={editedLabel}\r\n      newLabel={newLabel}\r\n      changeName={changeName}\r\n      createLabel={createLabel}\r\n      updateLabel={updateLabel}\r\n      deleteLabel={deleteLabel}\r\n    />\r\n  );\r\n};\r\n\r\nexport default LabelsContainer;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { getLabelsData } from '../services/library';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Container from '@material-ui/core/Container';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => {\r\n  return ({\r\n    notesContainer: {\r\n      position: 'relative',\r\n      margin: \"auto\",\r\n      maxWidth: 1150,\r\n      paddingTop: 56\r\n    }\r\n  })\r\n});\r\n\r\nconst NoteList = ({ desktop, notes, openEditor, deleteNote }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Container>\r\n      <div className={classes.notesContainer}>\r\n        <Grid container spacing={desktop ? 3 : 1}>\r\n          {\r\n            notes.map(note => {\r\n              const { id, title, text, labelsIds } = note;\r\n              return (\r\n                <Grid key={id} item xs={12} md={6} lg={4}>\r\n                  <Card className={classes.note}>\r\n                    <CardContent className={classes.noteContent}>\r\n                      <div>\r\n                        {\r\n                          getLabelsData(labelsIds).map(({ id, name }) => {\r\n                            return (\r\n                              <Chip\r\n                                key={id}\r\n                                size={\"small\"}\r\n                                label={name}\r\n                              />\r\n                            )\r\n                          })\r\n                        }\r\n                      </div>\r\n                      <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                        {title}\r\n                      </Typography>\r\n                      <Typography>\r\n                        {text}\r\n                      </Typography>\r\n                    </CardContent>\r\n                    <CardActions>\r\n                      <Button size=\"small\" color=\"primary\"\r\n                        onClick={deleteNote(id)}\r\n                      >\r\n                        {\"Delete\"}\r\n                      </Button>\r\n                      <Button size=\"small\" color=\"primary\"\r\n                        onClick={openEditor(note)}\r\n                      >\r\n                        {\"Edit\"}\r\n                      </Button>\r\n                    </CardActions>\r\n                  </Card>\r\n                </Grid>\r\n              );\r\n            })\r\n          }\r\n        </Grid>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nNoteList.propTypes = {\r\n  children: PropTypes.arrayOf(PropTypes.element)\r\n};\r\n\r\nexport default NoteList;\r\n","import React from 'react';\r\n//import PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport LabelsContainer from '../containers/LabelsContainer';\r\nimport { fade, makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport InputBase from \"@material-ui/core/InputBase\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddRoundedIcon from '@material-ui/icons/AddRounded';\r\nimport SearchRoundedIcon from '@material-ui/icons/SearchRounded';\r\nimport FilterListRoundedIcon from '@material-ui/icons/FilterListRounded';\r\nimport CloseRoundedIcon from \"@material-ui/icons/CloseRounded\";\r\nimport NoteList from './NoteList';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  toolbar: {\r\n    display: \"flex\",\r\n    flexFlow: \"row wrap\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    height: 56,\r\n    padding: theme.spacing(0.5, 2)\r\n  },\r\n  leftBlock: {\r\n    display: \"none\",\r\n    [theme.breakpoints.up('sm')]: {\r\n      flex: \"0 0 120px\",\r\n      display: \"flex\",\r\n      justifyContent: \"flex-start\",\r\n      paddingLeft: theme.spacing(7),\r\n      marginRight: theme.spacing(0.5)\r\n    }\r\n  },\r\n  middleBlock: {\r\n    flex: \"1 1 auto\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\"\r\n  },\r\n  rightBlock: {\r\n    flex: \"0 0 auto\",\r\n    display: \"flex\",\r\n    marginLeft: theme.spacing(0.5),\r\n    justifyContent: \"flex-end\",\r\n    [theme.breakpoints.up('sm')]: {\r\n      flex: \"0 0 120px\"\r\n    }\r\n  },\r\n  search: {\r\n    position: \"relative\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    \"&:hover\": {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25)\r\n    },\r\n    width: \"100%\",\r\n    maxWidth: 720,\r\n    height: 38\r\n  },\r\n  searchIcon: {\r\n    width: theme.spacing(7),\r\n    position: \"absolute\",\r\n    pointerEvents: \"none\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\"\r\n  },\r\n  searchRoot: {\r\n    color: \"inherit\",\r\n    width: \"100%\"\r\n  },\r\n  searchInput: {\r\n    padding: theme.spacing(1, 1, 1, 7)\r\n  },\r\n  drawerPaper: {\r\n    width: 256,\r\n    [theme.breakpoints.up('sm')]: {\r\n      zIndex: theme.zIndex.appBar - 1,\r\n      top: 56\r\n    }\r\n  },\r\n  filtersHeader: {\r\n    height: 55,\r\n    padding: theme.spacing(0, 2),\r\n    display: \"flex\",\r\n    flexFlow: \"row nowrap\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\"\r\n  },\r\n  filtersBody: {\r\n    padding: theme.spacing(1, 0)\r\n  },\r\n  fab: {\r\n    position: \"fixed\",\r\n    bottom: theme.spacing(2),\r\n    right: theme.spacing(2),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      bottom: theme.spacing(3),\r\n      right: theme.spacing(5),\r\n    }\r\n  },\r\n  unshift: {\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      transition: theme.transitions.create('margin', {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n      marginRight: 0\r\n    }\r\n  },\r\n  shift: {\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      transition: theme.transitions.create('margin', {\r\n        easing: theme.transitions.easing.easeOut,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n      marginRight: 256\r\n    }\r\n  }\r\n}));\r\n\r\nconst MainPage = ({\r\n  notes,\r\n  desktop,\r\n  open,\r\n  selectedIds,\r\n  setSelectedIds,\r\n  toggleDrawer,\r\n  query,\r\n  handleQuery,\r\n  openEditor,\r\n  deleteNote\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <>\r\n      <AppBar position=\"fixed\">\r\n        <div className={classes.toolbar}>\r\n          <div className={classes.leftBlock}>\r\n            <Typography variant=\"h6\" noWrap>\r\n              Notes\r\n            </Typography>\r\n          </div>\r\n          <div className={classes.middleBlock}>\r\n            <div className={classes.search}>\r\n              <div className={classes.searchIcon}>\r\n                <SearchRoundedIcon />\r\n              </div>\r\n              <InputBase\r\n                placeholder=\"Search\"\r\n                classes={{\r\n                  root: classes.searchRoot,\r\n                  input: classes.searchInput\r\n                }}\r\n                value={query}\r\n                onChange={handleQuery()}\r\n                autoFocus\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className={classes.rightBlock}>\r\n            <IconButton edge=\"end\" color=\"inherit\" onClick={toggleDrawer()}>\r\n              <FilterListRoundedIcon />\r\n            </IconButton>\r\n          </div>\r\n        </div>\r\n      </AppBar>\r\n      <Drawer\r\n        classes={{\r\n          paper: classes.drawerPaper\r\n        }}\r\n        variant={desktop ? \"persistent\" : \"temporary\"}\r\n        open={open}\r\n        onClose={toggleDrawer()}\r\n        anchor=\"right\"\r\n      >\r\n        <div className={classes.filtersHeader}>\r\n          <Typography variant=\"h6\" noWrap>\r\n            Filters\r\n            </Typography>\r\n          {\r\n            desktop &&\r\n            <IconButton edge=\"end\" color=\"inherit\" onClick={toggleDrawer()}>\r\n              <CloseRoundedIcon />\r\n            </IconButton>\r\n          }\r\n        </div>\r\n        <Divider />\r\n        <div className={classes.filtersBody}>\r\n          <LabelsContainer\r\n            open={open}\r\n            checkedIds={selectedIds}\r\n            setCheckedIds={setSelectedIds}\r\n          />\r\n        </div>\r\n      </Drawer>\r\n      <div\r\n        className={clsx(classes.content, {\r\n          [classes.shift]: open,\r\n          [classes.unshift]: !open\r\n        })}\r\n      >\r\n        <NoteList\r\n          notes={notes}\r\n          desktop={desktop}\r\n          openEditor={openEditor}\r\n          deleteNote={deleteNote}\r\n        />\r\n      </div>\r\n      <Fab\r\n        className={clsx(classes.fab, {\r\n          [classes.shift]: open,\r\n          [classes.unshift]: !open\r\n        })}\r\n        color=\"primary\"\r\n        aria-label=\"add\"\r\n        onClick={openEditor()}\r\n      >\r\n        <AddRoundedIcon />\r\n      </Fab>\r\n    </>\r\n  );\r\n};\r\n\r\n/*Editor.propTypes = {\r\n        handleChange: PropTypes.func\r\n};*/\r\n\r\nexport default MainPage;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\n//import PropTypes from 'prop-types';\r\nimport { getNotesData, deleteNoteData } from '../services/library';\r\nimport { debounceEvent } from '../services/events';\r\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\r\nimport { NotesContext } from './NotesContext';\r\nimport MainPage from '../components/MainPage';\r\n\r\nconst MainPageContainer = ({ width }) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [notes, setNotes] = useState([]);\r\n  const [selectedIds, setSelectedIds] = useState([]);\r\n\r\n  const { query, handleQuery, openEditor } = useContext(NotesContext);\r\n\r\n  useEffect(() => {\r\n    debounceEvent(setNotes)(getNotesData(query, selectedIds));\r\n  }, [query, selectedIds]);\r\n\r\n  const toggleDrawer = () => () => {\r\n    setOpen(!open);\r\n  };\r\n\r\n  const deleteNote = (id) => async () => {\r\n    await deleteNoteData(id);\r\n    setNotes(getNotesData(query, selectedIds));\r\n  };\r\n\r\n  return (\r\n    <MainPage\r\n      notes={notes}\r\n      desktop={isWidthUp(\"sm\", width)}\r\n      open={open}\r\n      selectedIds={selectedIds}\r\n      setSelectedIds={setSelectedIds}\r\n      toggleDrawer={toggleDrawer}\r\n      query={query}\r\n      handleQuery={handleQuery}\r\n      openEditor={openEditor}\r\n      deleteNote={deleteNote}\r\n    />\r\n  );\r\n};\r\n\r\n/*SearchContainer.propTypes = {\r\n  noteList: PropTypes.exact({\r\n    id: PropTypes.number,\r\n    title: PropTypes.string,\r\n    body: PropTypes.string,\r\n    namespaces: PropTypes.arrayOf(PropTypes.string)\r\n  })\r\n};*/\r\n\r\nexport default withWidth()(MainPageContainer);\r\n","import debounce from 'lodash/debounce';\r\nimport { defaultDebounceTimeMs } from '../config'\r\n\r\nexport const debounceEvent = (func, timeout = defaultDebounceTimeMs) => {\r\n  return debounce(func, timeout);\r\n};\r\n","import React, { useRef } from 'react';\r\n//import PropTypes from 'prop-types';\r\nimport LabelsContainer from '../containers/LabelsContainer';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport ArrowBackRoundedIcon from '@material-ui/icons/ArrowBackRounded';\r\nimport MoreVertRoundedIcon from '@material-ui/icons/MoreVertRounded';\r\nimport StarBorderRoundedIcon from '@material-ui/icons/StarBorderRounded';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  toolbar: {\r\n    display: \"flex\",\r\n    flexFlow: \"row wrap\",\r\n    height: 112,\r\n    padding: theme.spacing(0.5, 2)\r\n  },\r\n  leftBlock: {\r\n    flex: \"1 0 0\",\r\n    alignSelf: \"flex-start\",\r\n    display: \"flex\"\r\n  },\r\n  rightBlock: {\r\n    flex: \"1 0 0\",\r\n    alignSelf: \"flex-start\",\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\"\r\n  },\r\n  titleBlock: {\r\n    flex: \"1 0 100%\",\r\n    //alignSelf: \"flex-start\",\r\n    paddingBottom: theme.spacing(1.5),\r\n    paddingLeft: theme.spacing(7)\r\n  },\r\n  note: {\r\n    padding: theme.spacing(17, 2, 0, 2),\r\n    minHeight: \"100vh\"\r\n  },\r\n  inputRoot: {\r\n    color: \"rgb(255, 255, 255)\",\r\n    fontSize: \"1.5rem\",\r\n    lineHeight: 1.33,\r\n    letterSpacing: \"0em\",\r\n    \"&.MuiInput-underline:after\": {\r\n      borderBottomColor: \"rgb(255, 255, 255)\"\r\n    },\r\n    \"&.MuiInput-underline:before\": {\r\n      borderBottomColor: \"rgba(255, 255, 255, 0.42)\"\r\n    },\r\n    \"&.MuiInput-underline:hover:before\": {\r\n      borderBottomColor: \"rgba(255, 255, 255, 0.42)\"\r\n    }\r\n  },\r\n  drawerPaper: {\r\n    width: 256,\r\n    padding: theme.spacing(1, 0),\r\n    [theme.breakpoints.up('sm')]: {\r\n      zIndex: theme.zIndex.appBar - 1,\r\n      top: 112\r\n    }\r\n  }\r\n}));\r\n\r\nconst Editor = ({ note: { labelsIds, title, text }, desktop, open, toggleDrawer, setLabels, saveNote, changeField, closeEditor }) => {\r\n  const inputBody = useRef(null);\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <>\r\n      <AppBar position=\"fixed\">\r\n        <div className={classes.toolbar}>\r\n          <div className={classes.leftBlock}>\r\n            <IconButton edge=\"start\" color=\"inherit\" onClick={saveNote}>\r\n              <ArrowBackRoundedIcon />\r\n            </IconButton>\r\n          </div>\r\n          <div className={classes.rightBlock}>\r\n            <IconButton color=\"inherit\">\r\n              <StarBorderRoundedIcon />\r\n            </IconButton>\r\n            <IconButton edge=\"end\" color=\"inherit\" >\r\n              <MoreVertRoundedIcon />\r\n            </IconButton>\r\n          </div>\r\n          <div className={classes.titleBlock}>\r\n            <Input\r\n              fullWidth\r\n              classes={{\r\n                root: classes.inputRoot\r\n              }}\r\n              autoComplete=\"off\"\r\n              value={title}\r\n              name=\"title\"\r\n              placeholder=\"Title\"\r\n              onChange={changeField}\r\n            />\r\n          </div>\r\n        </div>\r\n      </AppBar>\r\n      <Drawer\r\n        classes={{\r\n          paper: classes.drawerPaper\r\n        }}\r\n        variant={desktop ? \"persistent\" : \"temporary\"}\r\n        open={open}\r\n        onClose={toggleDrawer()}\r\n        anchor=\"right\"\r\n      >\r\n        <LabelsContainer\r\n          open={open}\r\n          checkedIds={labelsIds}\r\n          setCheckedIds={setLabels}\r\n        />\r\n      </Drawer>\r\n      <Paper\r\n        square={false}\r\n        elevation={0}\r\n        className={classes.note}\r\n        onClick={() => { inputBody.current.focus() }}\r\n      >\r\n        <InputBase\r\n          fullWidth\r\n          inputRef={inputBody}\r\n          multiline={true}\r\n          autoComplete=\"off\"\r\n          value={text}\r\n          name=\"text\"\r\n          onChange={changeField}\r\n          placeholder=\"Content\"\r\n        />\r\n      </Paper>\r\n    </>\r\n  );\r\n};\r\n\r\n/*Editor.propTypes = {\r\n  handleChange: PropTypes.func\r\n};*/\r\n\r\nexport { Editor };\r\n","import React, { useState, useContext } from 'react';\r\n//import PropTypes from 'prop-types';\r\nimport { createNoteData, updateNoteData } from '../services/library';\r\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\r\nimport { AppContext } from './App';\r\nimport { NotesContext } from './NotesContext';\r\nimport { Editor } from '../components/Editor';\r\n\r\nconst EditorPageContainer = ({ width }) => {\r\n  const { openMain } = useContext(AppContext);\r\n  const { note, setNote } = useContext(NotesContext);\r\n\r\n  const [open, setOpen] = useState(true);\r\n  const [noteData, setNoteData] = useState(note || {\r\n    labelsIds: [],\r\n    title: '',\r\n    text: ''\r\n  });\r\n\r\n  const toggleDrawer = () => () => {\r\n    setOpen(!open);\r\n  };\r\n\r\n  const closeEditor = () => {\r\n    openMain();\r\n    setNote(null);\r\n  };\r\n\r\n  const saveNote = async (event) => {\r\n    event.preventDefault();\r\n    if (!note) {\r\n      await createNoteData(noteData);\r\n    } else {\r\n      await updateNoteData(noteData);\r\n    };\r\n    closeEditor();\r\n  };\r\n\r\n  const setLabels = (labelsIds) => {\r\n    setNoteData({ ...noteData, labelsIds: labelsIds });\r\n  };\r\n\r\n  const changeField = ({ target: { name, value } }) => {\r\n    setNoteData({ ...noteData, [name]: value });\r\n  };\r\n\r\n  return (\r\n    <Editor\r\n      desktop={isWidthUp(\"sm\", width)}\r\n      open={open}\r\n      toggleDrawer={toggleDrawer}\r\n      note={noteData}\r\n      saveNote={saveNote}\r\n      changeField={changeField}\r\n      closeEditor={closeEditor}\r\n      setLabels={setLabels}\r\n    />\r\n  );\r\n};\r\n\r\n/*EditorContainer.propTypes = {\r\n  noteList: PropTypes.exact({\r\n    id: PropTypes.number,\r\n    title: PropTypes.string,\r\n    body: PropTypes.string,\r\n    namespaces: PropTypes.arrayOf(PropTypes.string)\r\n  })\r\n};*/\r\n\r\nexport default withWidth()(EditorPageContainer);\r\n","import React, { useState, useEffect, createContext } from 'react';\r\nimport { parseHash } from '../services/auth';\r\nimport { initLibrary } from '../services/library';\r\nimport { NotesProvider } from './NotesContext';\r\nimport MainPageContainer from './MainPageContainer';\r\nimport EditorPageContainer from './EditorPageContainer';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n\r\nconst AppContext = createContext(null);\r\n\r\nconst App = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [page, setPage] = useState('init');\r\n\r\n  const openMain = () => {\r\n    setPage('main');\r\n  };\r\n\r\n  const openEditor = () => {\r\n    setPage('editor');\r\n  };\r\n\r\n  useEffect(() => {\r\n    const initApp = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        const hash = window.location.hash;\r\n        if (hash) {\r\n          parseHash(hash);\r\n        } else {\r\n          await initLibrary();\r\n        };\r\n        setPage('main');\r\n      } catch ({ message }) {\r\n        setError(message);\r\n      } finally {\r\n        setIsLoading(false);\r\n      };\r\n    };\r\n    initApp();\r\n  }, []);\r\n\r\n  const getPageComponent = () => {\r\n    switch (page) {\r\n      case 'main':\r\n        return <MainPageContainer />;\r\n      case 'editor':\r\n        return <EditorPageContainer />;\r\n      case 'init':\r\n        break;\r\n      default:\r\n        setError('Unknown component');\r\n    };\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <CssBaseline />\r\n      <AppContext.Provider\r\n        value={{\r\n          isLoading,\r\n          setIsLoading,\r\n          error,\r\n          setError,\r\n          openMain,\r\n          openEditor\r\n        }}\r\n      >\r\n        <NotesProvider>\r\n          {getPageComponent()}\r\n        </NotesProvider>\r\n      </AppContext.Provider>\r\n    </>\r\n  )\r\n};\r\n\r\nexport { AppContext, App };\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { App } from './containers/App';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}